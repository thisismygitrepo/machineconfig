************* Module machineconfig.scripts.python.fire_jobs
src/machineconfig/scripts/python/fire_jobs.py:177:9: R1714: Consider merging these comparisons with 'in' by using 'choice_file.suffix in ('.ps1', '.sh')'. Use a set instead if elements are hashable. (consider-using-in)
src/machineconfig/scripts/python/fire_jobs.py:29:0: R1710: Either all return statements in a function should return an expression, or none of them should. (inconsistent-return-statements)
************* Module machineconfig.scripts.python.cloud_copy
src/machineconfig/scripts/python/cloud_copy.py:62:0: R1710: Either all return statements in a function should return an expression, or none of them should. (inconsistent-return-statements)
src/machineconfig/scripts/python/cloud_copy.py:12:0: C0412: Imports from package machineconfig are not grouped (ungrouped-imports)
src/machineconfig/scripts/python/cloud_copy.py:17:0: C0412: Imports from package machineconfig are not grouped (ungrouped-imports)
************* Module machineconfig.scripts.python.repos
src/machineconfig/scripts/python/repos.py:40:8: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
src/machineconfig/scripts/python/repos.py:54:7: R1714: Consider merging these comparisons with 'in' by using 'action in (GitAction.push, GitAction.pull)'. Use a set instead if elements are hashable. (consider-using-in)
************* Module machineconfig.scripts.python.cloud_repo_sync
src/machineconfig/scripts/python/cloud_repo_sync.py:79:4: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
src/machineconfig/scripts/python/cloud_repo_sync.py:6:0: C0412: Imports from package machineconfig are not grouped (ungrouped-imports)
************* Module machineconfig.scripts.python.cloud_mount
src/machineconfig/scripts/python/cloud_mount.py:58:11: C0123: Use isinstance() rather than type() for a typecheck. (unidiomatic-typecheck)
src/machineconfig/scripts/python/cloud_mount.py:83:16: W0107: Unnecessary pass statement (unnecessary-pass)
************* Module machineconfig.scripts.python.wsl_windows_transfer
src/machineconfig/scripts/python/wsl_windows_transfer.py:59:8: W0621: Redefining name 'platform' from outer scope (line 6) (redefined-outer-name)
src/machineconfig/scripts/python/wsl_windows_transfer.py:59:8: W0404: Reimport 'platform' (imported line 6) (reimported)
************* Module machineconfig.scripts.python.devops
src/machineconfig/scripts/python/devops.py:154:155: R1719: The if expression can be replaced with 'test' (simplifiable-if-expression)
************* Module machineconfig.scripts.python.croshell
src/machineconfig/scripts/python/croshell.py:76:0: R1710: Either all return statements in a function should return an expression, or none of them should. (inconsistent-return-statements)
************* Module machineconfig.scripts.python.gh_models
src/machineconfig/scripts/python/gh_models.py:62:20: R1724: Unnecessary "else" after "continue", remove the "else" and de-indent the code inside it (no-else-continue)
************* Module machineconfig.scripts.python.devops_devapps_install
src/machineconfig/scripts/python/devops_devapps_install.py:23:44: C0123: Use isinstance() rather than type() for a typecheck. (unidiomatic-typecheck)
src/machineconfig/scripts/python/devops_devapps_install.py:7:0: C0412: Imports from package machineconfig are not grouped (ungrouped-imports)
************* Module machineconfig.scripts.python.ftpx
src/machineconfig/scripts/python/ftpx.py:40:12: R1720: Unnecessary "else" after "raise", remove the "else" and de-indent the code inside it (no-else-raise)
src/machineconfig/scripts/python/ftpx.py:58:12: R1720: Unnecessary "else" after "raise", remove the "else" and de-indent the code inside it (no-else-raise)
************* Module machineconfig.scripts.python.mount_nfs
src/machineconfig/scripts/python/mount_nfs.py:6:0: C0412: Imports from package machineconfig are not grouped (ungrouped-imports)
************* Module machineconfig.scripts.python.wifi_conn
src/machineconfig/scripts/python/wifi_conn.py:148:8: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
src/machineconfig/scripts/python/wifi_conn.py:334:8: R1705: Unnecessary "elif" after "return", remove the leading "el" from "elif" (no-else-return)
src/machineconfig/scripts/python/wifi_conn.py:357:12: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
src/machineconfig/scripts/python/wifi_conn.py:424:27: W1510: 'subprocess.run' used without explicitly defining the value for 'check'. (subprocess-run-check)
************* Module machineconfig.scripts.python.helpers.repo_sync_helpers
src/machineconfig/scripts/python/helpers/repo_sync_helpers.py:92:0: C0305: Trailing newlines (trailing-newlines)
src/machineconfig/scripts/python/helpers/repo_sync_helpers.py:48:4: R1705: Unnecessary "elif" after "return", remove the leading "el" from "elif" (no-else-return)
src/machineconfig/scripts/python/helpers/repo_sync_helpers.py:3:0: C0412: Imports from package machineconfig are not grouped (ungrouped-imports)
************* Module machineconfig.scripts.python.helpers.cloud_helpers
src/machineconfig/scripts/python/helpers/cloud_helpers.py:80:4: W0621: Redefining name 'console' from outer scope (line 13) (redefined-outer-name)
src/machineconfig/scripts/python/helpers/cloud_helpers.py:7:0: C0412: Imports from package machineconfig are not grouped (ungrouped-imports)
************* Module machineconfig.scripts.python.helpers.helpers5
src/machineconfig/scripts/python/helpers/helpers5.py:50:0: C0304: Final newline missing (missing-final-newline)
************* Module machineconfig.scripts.python.helpers.helpers2
src/machineconfig/scripts/python/helpers/helpers2.py:103:12: R1720: Unnecessary "else" after "raise", remove the "else" and de-indent the code inside it (no-else-raise)
src/machineconfig/scripts/python/helpers/helpers2.py:123:12: R1720: Unnecessary "else" after "raise", remove the "else" and de-indent the code inside it (no-else-raise)
************* Module machineconfig.cluster.templates.utils
src/machineconfig/cluster/templates/utils.py:41:13: W0621: Redefining name 'localpath' from outer scope (line 69) (redefined-outer-name)
src/machineconfig/cluster/templates/utils.py:41:72: W0622: Redefining built-in 'zip' (redefined-builtin)
src/machineconfig/cluster/templates/utils.py:44:86: W0613: Unused argument 'transfers' (unused-argument)
************* Module machineconfig.cluster.sessions_managers.wt_remote
src/machineconfig/cluster/sessions_managers/wt_remote.py:288:0: C0304: Final newline missing (missing-final-newline)
src/machineconfig/cluster/sessions_managers/wt_remote.py:22:23: W0621: Redefining name 'remote_name' from outer scope (line 229) (redefined-outer-name)
src/machineconfig/cluster/sessions_managers/wt_remote.py:84:27: W0621: Redefining name 'remote_name' from outer scope (line 229) (redefined-outer-name)
src/machineconfig/cluster/sessions_managers/wt_remote.py:161:8: W0621: Redefining name 'session_name' from outer scope (line 230) (redefined-outer-name)
src/machineconfig/cluster/sessions_managers/wt_remote.py:20:0: R0904: Too many public methods (29/20) (too-many-public-methods)
src/machineconfig/cluster/sessions_managers/wt_remote.py:270:14: W1309: Using an f-string that does not have any interpolated variables (f-string-without-interpolation)
src/machineconfig/cluster/sessions_managers/wt_remote.py:280:14: W1309: Using an f-string that does not have any interpolated variables (f-string-without-interpolation)
src/machineconfig/cluster/sessions_managers/wt_remote.py:281:14: W1309: Using an f-string that does not have any interpolated variables (f-string-without-interpolation)
src/machineconfig/cluster/sessions_managers/wt_remote.py:282:14: W1309: Using an f-string that does not have any interpolated variables (f-string-without-interpolation)
src/machineconfig/cluster/sessions_managers/wt_remote.py:283:14: W1309: Using an f-string that does not have any interpolated variables (f-string-without-interpolation)
************* Module machineconfig.cluster.sessions_managers.zellij_remote
src/machineconfig/cluster/sessions_managers/zellij_remote.py:25:23: W0621: Redefining name 'remote_name' from outer scope (line 194) (redefined-outer-name)
src/machineconfig/cluster/sessions_managers/zellij_remote.py:94:27: W0621: Redefining name 'remote_name' from outer scope (line 194) (redefined-outer-name)
src/machineconfig/cluster/sessions_managers/zellij_remote.py:155:8: W0621: Redefining name 'session_name' from outer scope (line 195) (redefined-outer-name)
************* Module machineconfig.cluster.sessions_managers.zellij_local_manager
src/machineconfig/cluster/sessions_managers/zellij_local_manager.py:552:0: C0304: Final newline missing (missing-final-newline)
src/machineconfig/cluster/sessions_managers/zellij_local_manager.py:41:12: W0621: Redefining name 'manager' from outer scope (line 518) (redefined-outer-name)
src/machineconfig/cluster/sessions_managers/zellij_local_manager.py:70:12: W0621: Redefining name 'manager' from outer scope (line 518) (redefined-outer-name)
src/machineconfig/cluster/sessions_managers/zellij_local_manager.py:83:20: W1510: 'subprocess.run' used without explicitly defining the value for 'check'. (subprocess-run-check)
src/machineconfig/cluster/sessions_managers/zellij_local_manager.py:98:16: R1732: Consider using 'with' for resource-allocating operations (consider-using-with)
src/machineconfig/cluster/sessions_managers/zellij_local_manager.py:104:31: W1510: 'subprocess.run' used without explicitly defining the value for 'check'. (subprocess-run-check)
src/machineconfig/cluster/sessions_managers/zellij_local_manager.py:125:12: W0621: Redefining name 'manager' from outer scope (line 518) (redefined-outer-name)
src/machineconfig/cluster/sessions_managers/zellij_local_manager.py:134:25: W1510: 'subprocess.run' used without explicitly defining the value for 'check'. (subprocess-run-check)
src/machineconfig/cluster/sessions_managers/zellij_local_manager.py:163:16: W0621: Redefining name 'manager' from outer scope (line 518) (redefined-outer-name)
src/machineconfig/cluster/sessions_managers/zellij_local_manager.py:161:8: R1720: Unnecessary "else" after "raise", remove the "else" and de-indent the code inside it (no-else-raise)
src/machineconfig/cluster/sessions_managers/zellij_local_manager.py:180:12: W0621: Redefining name 'manager' from outer scope (line 518) (redefined-outer-name)
src/machineconfig/cluster/sessions_managers/zellij_local_manager.py:334:19: W0621: Redefining name 'session_id' from outer scope (line 534) (redefined-outer-name)
src/machineconfig/cluster/sessions_managers/zellij_local_manager.py:364:15: W0621: Redefining name 'manager' from outer scope (line 518) (redefined-outer-name)
src/machineconfig/cluster/sessions_managers/zellij_local_manager.py:378:18: W0621: Redefining name 'session_id' from outer scope (line 534) (redefined-outer-name)
src/machineconfig/cluster/sessions_managers/zellij_local_manager.py:416:20: W0621: Redefining name 'manager' from outer scope (line 518) (redefined-outer-name)
src/machineconfig/cluster/sessions_managers/zellij_local_manager.py:443:23: W0621: Redefining name 'session_id' from outer scope (line 534) (redefined-outer-name)
src/machineconfig/cluster/sessions_managers/zellij_local_manager.py:477:20: W0621: Redefining name 'manager' from outer scope (line 518) (redefined-outer-name)
src/machineconfig/cluster/sessions_managers/zellij_local_manager.py:466:21: W1510: 'subprocess.run' used without explicitly defining the value for 'check'. (subprocess-run-check)
************* Module machineconfig.cluster.sessions_managers.enhanced_command_runner
src/machineconfig/cluster/sessions_managers/enhanced_command_runner.py:48:16: W0621: Redefining name 'result' from outer scope (line 159) (redefined-outer-name)
src/machineconfig/cluster/sessions_managers/enhanced_command_runner.py:48:25: W1510: 'subprocess.run' used without explicitly defining the value for 'check'. (subprocess-run-check)
src/machineconfig/cluster/sessions_managers/enhanced_command_runner.py:58:21: W1510: 'subprocess.run' used without explicitly defining the value for 'check'. (subprocess-run-check)
src/machineconfig/cluster/sessions_managers/enhanced_command_runner.py:86:8: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
************* Module machineconfig.cluster.sessions_managers.zellij_local
src/machineconfig/cluster/sessions_managers/zellij_local.py:175:12: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
src/machineconfig/cluster/sessions_managers/zellij_local.py:220:21: W1510: 'subprocess.run' used without explicitly defining the value for 'check'. (subprocess-run-check)
src/machineconfig/cluster/sessions_managers/zellij_local.py:227:12: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
src/machineconfig/cluster/sessions_managers/zellij_local.py:341:8: W0404: Reimport 'Panel' (imported line 282) (reimported)
src/machineconfig/cluster/sessions_managers/zellij_local.py:350:4: W0621: Redefining name 'generator' from outer scope (line 401) (redefined-outer-name)
src/machineconfig/cluster/sessions_managers/zellij_local.py:355:4: W0621: Redefining name 'layout_path' from outer scope (line 402) (redefined-outer-name)
src/machineconfig/cluster/sessions_managers/zellij_local.py:364:8: W0621: Redefining name 'subprocess' from outer scope (line 3) (redefined-outer-name)
src/machineconfig/cluster/sessions_managers/zellij_local.py:364:8: W0404: Reimport 'subprocess' (imported line 3) (reimported)
************* Module machineconfig.cluster.sessions_managers.wt_local
src/machineconfig/cluster/sessions_managers/wt_local.py:195:24: W0621: Redefining name 'json' from outer scope (line 10) (redefined-outer-name)
src/machineconfig/cluster/sessions_managers/wt_local.py:189:21: W1510: 'subprocess.run' used without explicitly defining the value for 'check'. (subprocess-run-check)
src/machineconfig/cluster/sessions_managers/wt_local.py:195:24: W0404: Reimport 'json' (imported line 10) (reimported)
src/machineconfig/cluster/sessions_managers/wt_local.py:317:21: W1510: 'subprocess.run' used without explicitly defining the value for 'check'. (subprocess-run-check)
src/machineconfig/cluster/sessions_managers/wt_local.py:336:16: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
src/machineconfig/cluster/sessions_managers/wt_local.py:439:4: W0621: Redefining name 'generator' from outer scope (line 477) (redefined-outer-name)
src/machineconfig/cluster/sessions_managers/wt_local.py:444:4: W0621: Redefining name 'generator' from outer scope (line 477) (redefined-outer-name)
src/machineconfig/cluster/sessions_managers/wt_local.py:445:4: W0621: Redefining name 'script_path' from outer scope (line 478) (redefined-outer-name)
src/machineconfig/cluster/sessions_managers/wt_local.py:449:13: W1510: 'subprocess.run' used without explicitly defining the value for 'check'. (subprocess-run-check)
src/machineconfig/cluster/sessions_managers/wt_local.py:451:4: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
************* Module machineconfig.cluster.sessions_managers.wt_remote_manager
src/machineconfig/cluster/sessions_managers/wt_remote_manager.py:483:0: C0304: Final newline missing (missing-final-newline)
src/machineconfig/cluster/sessions_managers/wt_remote_manager.py:84:19: W0621: Redefining name 'session_id' from outer scope (line 461) (redefined-outer-name)
src/machineconfig/cluster/sessions_managers/wt_remote_manager.py:113:15: W0621: Redefining name 'manager' from outer scope (line 443) (redefined-outer-name)
src/machineconfig/cluster/sessions_managers/wt_remote_manager.py:121:18: W0621: Redefining name 'session_id' from outer scope (line 461) (redefined-outer-name)
src/machineconfig/cluster/sessions_managers/wt_remote_manager.py:150:20: W0621: Redefining name 'loaded_manager' from outer scope (line 469) (redefined-outer-name)
src/machineconfig/cluster/sessions_managers/wt_remote_manager.py:170:23: W0621: Redefining name 'session_id' from outer scope (line 461) (redefined-outer-name)
src/machineconfig/cluster/sessions_managers/wt_remote_manager.py:189:12: W0621: Redefining name 'manager' from outer scope (line 443) (redefined-outer-name)
src/machineconfig/cluster/sessions_managers/wt_remote_manager.py:217:12: W0621: Redefining name 'manager' from outer scope (line 443) (redefined-outer-name)
src/machineconfig/cluster/sessions_managers/wt_remote_manager.py:353:12: W0621: Redefining name 'manager' from outer scope (line 443) (redefined-outer-name)
src/machineconfig/cluster/sessions_managers/wt_remote_manager.py:414:26: W1309: Using an f-string that does not have any interpolated variables (f-string-without-interpolation)
src/machineconfig/cluster/sessions_managers/wt_remote_manager.py:416:26: W1309: Using an f-string that does not have any interpolated variables (f-string-without-interpolation)
************* Module machineconfig.cluster.sessions_managers.wt_local_manager
src/machineconfig/cluster/sessions_managers/wt_local_manager.py:577:0: C0304: Final newline missing (missing-final-newline)
src/machineconfig/cluster/sessions_managers/wt_local_manager.py:36:12: W0621: Redefining name 'manager' from outer scope (line 534) (redefined-outer-name)
src/machineconfig/cluster/sessions_managers/wt_local_manager.py:50:12: W0621: Redefining name 'manager' from outer scope (line 534) (redefined-outer-name)
src/machineconfig/cluster/sessions_managers/wt_local_manager.py:66:25: W1510: 'subprocess.run' used without explicitly defining the value for 'check'. (subprocess-run-check)
src/machineconfig/cluster/sessions_managers/wt_local_manager.py:93:12: W0621: Redefining name 'manager' from outer scope (line 534) (redefined-outer-name)
src/machineconfig/cluster/sessions_managers/wt_local_manager.py:100:25: W1510: 'subprocess.run' used without explicitly defining the value for 'check'. (subprocess-run-check)
src/machineconfig/cluster/sessions_managers/wt_local_manager.py:127:16: W0621: Redefining name 'manager' from outer scope (line 534) (redefined-outer-name)
src/machineconfig/cluster/sessions_managers/wt_local_manager.py:125:8: R1720: Unnecessary "else" after "raise", remove the "else" and de-indent the code inside it (no-else-raise)
src/machineconfig/cluster/sessions_managers/wt_local_manager.py:144:12: W0621: Redefining name 'manager' from outer scope (line 534) (redefined-outer-name)
src/machineconfig/cluster/sessions_managers/wt_local_manager.py:304:19: W0621: Redefining name 'session_id' from outer scope (line 559) (redefined-outer-name)
src/machineconfig/cluster/sessions_managers/wt_local_manager.py:334:15: W0621: Redefining name 'manager' from outer scope (line 534) (redefined-outer-name)
src/machineconfig/cluster/sessions_managers/wt_local_manager.py:348:18: W0621: Redefining name 'session_id' from outer scope (line 559) (redefined-outer-name)
src/machineconfig/cluster/sessions_managers/wt_local_manager.py:386:20: W0621: Redefining name 'manager' from outer scope (line 534) (redefined-outer-name)
src/machineconfig/cluster/sessions_managers/wt_local_manager.py:413:23: W0621: Redefining name 'session_id' from outer scope (line 559) (redefined-outer-name)
src/machineconfig/cluster/sessions_managers/wt_local_manager.py:445:16: W0621: Redefining name 'json' from outer scope (line 3) (redefined-outer-name)
src/machineconfig/cluster/sessions_managers/wt_local_manager.py:451:20: W0621: Redefining name 'manager' from outer scope (line 534) (redefined-outer-name)
src/machineconfig/cluster/sessions_managers/wt_local_manager.py:436:21: W1510: 'subprocess.run' used without explicitly defining the value for 'check'. (subprocess-run-check)
src/machineconfig/cluster/sessions_managers/wt_local_manager.py:445:16: W0404: Reimport 'json' (imported line 3) (reimported)
src/machineconfig/cluster/sessions_managers/wt_local_manager.py:485:16: W0621: Redefining name 'json' from outer scope (line 3) (redefined-outer-name)
src/machineconfig/cluster/sessions_managers/wt_local_manager.py:476:21: W1510: 'subprocess.run' used without explicitly defining the value for 'check'. (subprocess-run-check)
src/machineconfig/cluster/sessions_managers/wt_local_manager.py:484:12: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
src/machineconfig/cluster/sessions_managers/wt_local_manager.py:485:16: W0404: Reimport 'json' (imported line 3) (reimported)
************* Module machineconfig.cluster.sessions_managers.archive.create_zellij_template
src/machineconfig/cluster/sessions_managers/archive/create_zellij_template.py:52:0: R1711: Useless return at end of function or method (useless-return)
************* Module machineconfig.setup_windows.wt_and_pwsh.set_wt_settings
src/machineconfig/setup_windows/wt_and_pwsh/set_wt_settings.py:30:0: R0205: Class 'TerminalSettings' inherits from object, can be safely removed from bases in python3 (useless-object-inheritance)
src/machineconfig/setup_windows/wt_and_pwsh/set_wt_settings.py:46:8: W0621: Redefining name 'console' from outer scope (line 26) (redefined-outer-name)
src/machineconfig/setup_windows/wt_and_pwsh/set_wt_settings.py:72:31: R1735: Consider using '{"name": 'PowerShell', "commandline": 'pwsh', "hidden": False, "opacity": 87, ... }' instead of a call to 'dict'. (use-dict-literal)
src/machineconfig/setup_windows/wt_and_pwsh/set_wt_settings.py:81:27: R1735: Consider using '{"face": 'CaskaydiaCove Nerd Font'}' instead of a call to 'dict'. (use-dict-literal)
src/machineconfig/setup_windows/wt_and_pwsh/set_wt_settings.py:103:19: R1735: Consider using '{"name": 'croshell', "guid": '{' + str(uuid4()) + '}', "commandline": f'powershell.exe -Command "{LIBRARY_ROOT.as_posix()}/scripts/windows/croshell.ps1"', ... }' instead of a call to 'dict'. (use-dict-literal)
src/machineconfig/setup_windows/wt_and_pwsh/set_wt_settings.py:123:17: R1735: Consider using '{"name": 'Ubuntu', "commandline": 'wsl -d Ubuntu -- cd ~', "hidden": False, ... }' instead of a call to 'dict'. (use-dict-literal)
src/machineconfig/setup_windows/wt_and_pwsh/set_wt_settings.py:8:0: C0412: Imports from package machineconfig are not grouped (ungrouped-imports)
************* Module machineconfig.utils.procs
src/machineconfig/utils/procs.py:130:11: R1714: Consider merging these comparisons with 'in' by using 'kill_by_index not in ('', 'n')'. Use a set instead if elements are hashable. (consider-using-in)
src/machineconfig/utils/procs.py:11:0: C0412: Imports from package machineconfig are not grouped (ungrouped-imports)
************* Module machineconfig.utils.utils2
src/machineconfig/utils/utils2.py:31:17: E1101: Module 'pyjson5' has no 'loads' member (no-member)
************* Module machineconfig.utils.path
src/machineconfig/utils/path.py:76:8: R1705: Unnecessary "elif" after "return", remove the leading "el" from "elif" (no-else-return)
src/machineconfig/utils/path.py:85:4: R1705: Unnecessary "elif" after "return", remove the leading "el" from "elif" (no-else-return)
************* Module machineconfig.utils.options
src/machineconfig/utils/options.py:60:4: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
src/machineconfig/utils/options.py:147:12: R1732: Consider using 'with' for resource-allocating operations (consider-using-with)
************* Module machineconfig.utils.code
src/machineconfig/utils/code.py:85:0: C0305: Trailing newlines (trailing-newlines)
src/machineconfig/utils/code.py:45:0: R1711: Useless return at end of function or method (useless-return)
************* Module machineconfig.utils.installer
src/machineconfig/utils/installer.py:174:0: R1710: Either all return statements in a function should return an expression, or none of them should. (inconsistent-return-statements)
src/machineconfig/utils/installer.py:8:0: C0412: Imports from package machineconfig are not grouped (ungrouped-imports)
src/machineconfig/utils/installer.py:10:0: C0412: Imports from package machineconfig are not grouped (ungrouped-imports)
************* Module machineconfig.utils.path_reduced
src/machineconfig/utils/path_reduced.py:109:12: R1720: Unnecessary "else" after "raise", remove the "else" and de-indent the code inside it (no-else-raise)
src/machineconfig/utils/path_reduced.py:114:11: R0916: Too many boolean expressions in if statement (7/5) (too-many-boolean-expressions)
src/machineconfig/utils/path_reduced.py:122:20: R1720: Unnecessary "else" after "raise", remove the "else" and de-indent the code inside it (no-else-raise)
src/machineconfig/utils/path_reduced.py:150:20: R1720: Unnecessary "else" after "raise", remove the "else" and de-indent the code inside it (no-else-raise)
src/machineconfig/utils/path_reduced.py:195:8: R1705: Unnecessary "elif" after "return", remove the leading "el" from "elif" (no-else-return)
src/machineconfig/utils/path_reduced.py:210:8: R1705: Unnecessary "elif" after "return", remove the leading "el" from "elif" (no-else-return)
src/machineconfig/utils/path_reduced.py:216:8: R1705: Unnecessary "elif" after "return", remove the leading "el" from "elif" (no-else-return)
src/machineconfig/utils/path_reduced.py:225:64: R1728: Consider using a generator instead 'sum(item.stat().st_size for item in self.rglob('*') if item.is_file())' (consider-using-generator)
src/machineconfig/utils/path_reduced.py:254:11: C0123: Use isinstance() rather than type() for a typecheck. (unidiomatic-typecheck)
src/machineconfig/utils/path_reduced.py:258:13: C0123: Use isinstance() rather than type() for a typecheck. (unidiomatic-typecheck)
src/machineconfig/utils/path_reduced.py:259:13: C0123: Use isinstance() rather than type() for a typecheck. (unidiomatic-typecheck)
src/machineconfig/utils/path_reduced.py:264:12: R1705: Unnecessary "elif" after "return", remove the leading "el" from "elif" (no-else-return)
src/machineconfig/utils/path_reduced.py:280:20: R1725: Consider using Python 3 style super() without arguments (super-with-arguments)
src/machineconfig/utils/path_reduced.py:286:39: R1729: Use a generator instead 'all(str(a_not_in) not in str(x) for a_not_in in not_in)' (use-a-generator)
src/machineconfig/utils/path_reduced.py:289:43: R1729: Use a generator instead 'any(ext in x.name for ext in exts)' (use-a-generator)
src/machineconfig/utils/path_reduced.py:295:8: R1705: Unnecessary "elif" after "return", remove the leading "el" from "elif" (no-else-return)
src/machineconfig/utils/path_reduced.py:302:27: R1732: Consider using 'with' for resource-allocating operations (consider-using-with)
src/machineconfig/utils/path_reduced.py:319:15: R1729: Use a generator instead 'all(afilter(item_) for afilter in filters_total)' (use-a-generator)
src/machineconfig/utils/path_reduced.py:384:37: R1732: Consider using 'with' for resource-allocating operations (consider-using-with)
src/machineconfig/utils/path_reduced.py:405:8: R1705: Unnecessary "elif" after "return", remove the leading "el" from "elif" (no-else-return)
src/machineconfig/utils/path_reduced.py:491:12: R1720: Unnecessary "else" after "raise", remove the "else" and de-indent the code inside it (no-else-raise)
src/machineconfig/utils/path_reduced.py:41:0: R0904: Too many public methods (36/20) (too-many-public-methods)
************* Module machineconfig.utils.utils
src/machineconfig/utils/utils.py:10:0: C0412: Imports from package machineconfig are not grouped (ungrouped-imports)
************* Module machineconfig.utils.ai.browser_user_wrapper
src/machineconfig/utils/ai/browser_user_wrapper.py:66:0: C0305: Trailing newlines (trailing-newlines)
************* Module machineconfig.utils.ai.url2md
src/machineconfig/utils/ai/url2md.py:83:0: C0305: Trailing newlines (trailing-newlines)
src/machineconfig/utils/ai/url2md.py:39:8: R1722: Consider using 'sys.exit' instead (consider-using-sys-exit)
************* Module machineconfig.utils.installer_utils.installer_abc
src/machineconfig/utils/installer_utils/installer_abc.py:101:0: C0304: Final newline missing (missing-final-newline)
src/machineconfig/utils/installer_utils/installer_abc.py:30:16: R1720: Unnecessary "elif" after "raise", remove the leading "el" from "elif" (no-else-raise)
src/machineconfig/utils/installer_utils/installer_abc.py:69:12: R1720: Unnecessary "elif" after "raise", remove the leading "el" from "elif" (no-else-raise)
************* Module machineconfig.utils.installer_utils.installer_class
src/machineconfig/utils/installer_utils/installer_class.py:272:0: C0304: Final newline missing (missing-final-newline)
src/machineconfig/utils/installer_utils/installer_class.py:79:12: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
src/machineconfig/utils/installer_utils/installer_class.py:147:20: W0621: Redefining name 'pprint' from outer scope (line 6) (redefined-outer-name)
src/machineconfig/utils/installer_utils/installer_class.py:94:12: R0402: Use 'from machineconfig.jobs import python_custom_installers' instead (consider-using-from-import)
src/machineconfig/utils/installer_utils/installer_class.py:147:20: W0416: Shadowed 'pprint' (imported line 6) (shadowed-import)
src/machineconfig/utils/installer_utils/installer_class.py:259:12: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
src/machineconfig/utils/installer_utils/installer_class.py:4:0: C0412: Imports from package machineconfig are not grouped (ungrouped-imports)
************* Module machineconfig.jobs.python_generic_installers.update
src/machineconfig/jobs/python_generic_installers/update.py:3:0: C0305: Trailing newlines (trailing-newlines)
************* Module machineconfig.jobs.python_custom_installers.warp-cli
src/machineconfig/jobs/python_custom_installers/warp-cli.py:71:0: C0305: Trailing newlines (trailing-newlines)
src/machineconfig/jobs/python_custom_installers/warp-cli.py:28:4: R1720: Unnecessary "elif" after "raise", remove the leading "el" from "elif" (no-else-raise)
************* Module machineconfig.jobs.python_custom_installers.docker
src/machineconfig/jobs/python_custom_installers/docker.py:75:0: C0305: Trailing newlines (trailing-newlines)
src/machineconfig/jobs/python_custom_installers/docker.py:29:4: R1720: Unnecessary "elif" after "raise", remove the leading "el" from "elif" (no-else-raise)
************* Module machineconfig.profile.create
src/machineconfig/profile/create.py:42:8: R1724: Unnecessary "else" after "continue", remove the "else" and de-indent the code inside it (no-else-continue)
src/machineconfig/profile/create.py:50:8: R1705: Unnecessary "elif" after "return", remove the leading "el" from "elif" (no-else-return)
src/machineconfig/profile/create.py:58:8: R1720: Unnecessary "elif" after "raise", remove the leading "el" from "elif" (no-else-raise)
src/machineconfig/profile/create.py:70:12: W0107: Unnecessary pass statement (unnecessary-pass)
************* Module machineconfig.profile.create_hardlinks
src/machineconfig/profile/create_hardlinks.py:36:8: R1724: Unnecessary "else" after "continue", remove the "else" and de-indent the code inside it (no-else-continue)
src/machineconfig/profile/create_hardlinks.py:45:8: R1705: Unnecessary "elif" after "return", remove the leading "el" from "elif" (no-else-return)
src/machineconfig/profile/create_hardlinks.py:59:12: W0107: Unnecessary pass statement (unnecessary-pass)
************* Module machineconfig.profile.shell
src/machineconfig/profile/shell.py:73:4: R1705: Unnecessary "elif" after "return", remove the leading "el" from "elif" (no-else-return)
src/machineconfig/profile/shell.py:157:4: R1705: Unnecessary "elif" after "return", remove the leading "el" from "elif" (no-else-return)
src/machineconfig/profile/shell.py:148:0: R1710: Either all return statements in a function should return an expression, or none of them should. (inconsistent-return-statements)
src/machineconfig/profile/shell.py:7:0: C0412: Imports from package machineconfig are not grouped (ungrouped-imports)
************* Module machineconfig.profile.__init__
src/machineconfig/profile/__init__.py:1:0: R0401: Cyclic import (machineconfig.scripts.python.cloud_repo_sync -> machineconfig.utils.utils) (cyclic-import)
src/machineconfig/profile/__init__.py:1:0: R0401: Cyclic import (machineconfig.scripts.python.cloud_repo_sync -> machineconfig.scripts.python.helpers.repo_sync_helpers -> machineconfig.utils.utils) (cyclic-import)
src/machineconfig/profile/__init__.py:1:0: R0801: Similar lines in 2 files
==machineconfig.cluster.sessions_managers.wt_local_manager:[150:198]
==machineconfig.cluster.sessions_managers.zellij_local_manager:[188:236]
            commands_status = manager.check_all_commands_status()

            # Calculate summary for this session
            running_count = sum(1 for status in commands_status.values() if status.get("running", False))
            total_count = len(commands_status)

            status_report[session_name] = {
                "session_status": session_status,
                "commands_status": commands_status,
                "summary": {
                    "total_commands": total_count,
                    "running_commands": running_count,
                    "stopped_commands": total_count - running_count,
                    "session_healthy": session_status.get("session_exists", False)
                }
            }

        return status_report

    def get_global_summary(self) -> Dict[str, Any]:
        """Get a global summary across all sessions."""
        all_status = self.check_all_sessions_status()

        total_sessions = len(all_status)
        healthy_sessions = sum(1 for status in all_status.values()
                             if status["summary"]["session_healthy"])
        total_commands = sum(status["summary"]["total_commands"]
                           for status in all_status.values())
        total_running = sum(status["summary"]["running_commands"]
                          for status in all_status.values())

        return {
            "total_sessions": total_sessions,
            "healthy_sessions": healthy_sessions,
            "unhealthy_sessions": total_sessions - healthy_sessions,
            "total_commands": total_commands,
            "running_commands": total_running,
            "stopped_commands": total_commands - total_running,
            "all_sessions_healthy": healthy_sessions == total_sessions,
            "all_commands_running": total_running == total_commands
        }

    def print_status_report(self) -> None:
        """Print a comprehensive status report for all sessions."""
        all_status = self.check_all_sessions_status()
        global_summary = self.get_global_summary()

        print("=" * 80) (duplicate-code)
src/machineconfig/profile/__init__.py:1:0: R0801: Similar lines in 2 files
==machineconfig.cluster.sessions_managers.wt_local_manager:[396:436]
==machineconfig.cluster.sessions_managers.zellij_local_manager:[426:466]
        return instance

    @staticmethod
    def list_saved_sessions() -> List[str]:
        """List all saved session IDs."""
        if not TMP_SERIALIZATION_DIR.exists():
            return []

        sessions = []
        for item in TMP_SERIALIZATION_DIR.iterdir():
            if item.is_dir() and (item / "metadata.json").exists():
                sessions.append(item.name)

        return sorted(sessions)

    @staticmethod
    def delete_session(session_id: str) -> bool:
        """Delete a saved session."""
        session_dir = TMP_SERIALIZATION_DIR / session_id

        if not session_dir.exists():
            logger.warning(f"Session directory not found: {session_dir}")
            return False

        try:
            import shutil
            shutil.rmtree(session_dir)
            logger.info(f"âœ… Deleted session: {session_id}")
            return True
        except Exception as e:
            logger.error(f"Failed to delete session {session_id}: {e}")
            return False

    def list_active_sessions(self) -> List[Dict[str, Any]]:
        """List currently active zellij sessions managed by this instance."""
        active_sessions = []

        try:
            # Get all running zellij sessions
            result = subprocess.run( (duplicate-code)
src/machineconfig/profile/__init__.py:1:0: R0801: Similar lines in 2 files
==machineconfig.cluster.sessions_managers.wt_local_manager:[278:301]
==machineconfig.cluster.sessions_managers.zellij_local_manager:[308:331]
                        header_line = " | ".join(f"{h:<15}" for h in headers)
                        separator = "-" * len(header_line)
                        print(header_line)
                        print(separator)
                        for row in status_data:
                            values = [str(row.get(h, ""))[:15] for h in headers]
                            print(" | ".join(f"{v:<15}" for v in values))

                    # Check if all sessions have stopped
                    running_count = sum(1 for row in status_data if row.get("running", False))
                    if running_count == 0:
                        print("\nâš ï¸  All commands have stopped. Stopping monitoring.")
                        scheduler.max_cycles = scheduler.cycle
                        return
                else:
                    print("No status data available")
            else:
                # Quick summary check
                global_summary = self.get_global_summary()
                print(f"ðŸ“Š Quick Summary: {global_summary['running_commands']}/{global_summary['total_commands']} commands running across {global_summary['healthy_sessions']}/{global_summary['total_sessions']} sessions")

        logger.info(f"Starting monitoring routine with {wait_ms}ms intervals")
        sched = Scheduler(routine=routine, wait_ms=wait_ms) (duplicate-code)
src/machineconfig/profile/__init__.py:1:0: R0801: Similar lines in 2 files
==machineconfig.profile.create:[31:57]
==machineconfig.profile.create_hardlinks:[25:53]
    symlink_mapper = LIBRARY_ROOT.joinpath("profile/mapper.toml").readit()
    # symlink_mapper['wsl_windows']['home']["to_this"] = symlink_mapper['wsl_windows']['home']["to_this"].replace("username", UserName)
    # symlink_mapper['wsl_linux']['home']["to_this"] = symlink_mapper['wsl_linux']['home']["to_this"].replace("username", UserName)

    overwrite = True
    exclude: list[str] = []  # "wsl_linux", "wsl_windows"

    program_keys_raw: list[str] = list(symlink_mapper.keys())
    program_keys: list[str] = []
    for program_key in program_keys_raw:
        if program_key in exclude or OTHER_SYSTEM in program_key:
            # print(f"ðŸš« Skipping {program_key} for {system}")
            continue
        else: program_keys.append(program_key)

    program_keys.sort()
    if choice is None:
        choice_selected = display_options(msg="Which symlink to create?", options=program_keys + ["all", "none(EXIT)"], default="none(EXIT)", fzf=True, multi=True)
        assert isinstance(choice_selected, list)
        if len(choice_selected) == 1 and choice_selected[0] == "none(EXIT)": return  # terminate function.
        elif len(choice_selected) == 1 and choice_selected[0] == "all": choice_selected = "all"  # i.e. program_keys = program_keys
        # overwrite = display_options(msg="Overwrite existing source file?", options=["yes", "no"], default="yes") == "yes"
        from rich.prompt import Confirm
        overwrite = Confirm.ask("Overwrite existing source file?", default=True)

    else: choice_selected = choice

    if isinstance(choice_selected, str): (duplicate-code)
src/machineconfig/profile/__init__.py:1:0: R0801: Similar lines in 2 files
==machineconfig.cluster.sessions_managers.wt_local_manager:[244:277]
==machineconfig.cluster.sessions_managers.zellij_local_manager:[272:305]
            print()

        print("=" * 80)

    def run_monitoring_routine(self, wait_ms: int = 30000) -> None:
        """
        Run a continuous monitoring routine that checks status periodically.

        Args:
            wait_ms: How long to wait between checks in milliseconds (default: 30000ms = 30s)
        """
        def routine(scheduler: Scheduler):
            print(f"\nâ° Monitoring cycle {scheduler.cycle} at {datetime.now()}")
            print("-" * 50)

            if scheduler.cycle % 2 == 0:
                # Detailed status check every other cycle
                all_status = self.check_all_sessions_status()

                # Create DataFrame-like data for easier viewing
                status_data = []
                for session_name, status in all_status.items():
                    for tab_name, cmd_status in status["commands_status"].items():
                        status_data.append({
                            "session": session_name,
                            "tab": tab_name,
                            "running": cmd_status.get("running", False),
                            "command": cmd_status.get("command", "Unknown")[:50] + "..." if len(cmd_status.get("command", "")) > 50 else cmd_status.get("command", ""),
                            "processes": len(cmd_status.get("processes", []))
                        })

                if status_data:
                    # Format data as table (duplicate-code)
src/machineconfig/profile/__init__.py:1:0: R0801: Similar lines in 2 files
==machineconfig.cluster.sessions_managers.wt_local_manager:[167:189]
==machineconfig.cluster.sessions_managers.wt_remote_manager:[257:279]
        return status_report

    def get_global_summary(self) -> dict[str, Any]:
        """Get a global summary across all remote sessions."""
        all_status = self.check_all_sessions_status()

        total_sessions = len(all_status)
        healthy_sessions = sum(1 for status in all_status.values()
                             if status["summary"]["session_healthy"])
        total_commands = sum(status["summary"]["total_commands"]
                           for status in all_status.values())
        total_running = sum(status["summary"]["running_commands"]
                          for status in all_status.values())

        return {
            "total_sessions": total_sessions,
            "healthy_sessions": healthy_sessions,
            "unhealthy_sessions": total_sessions - healthy_sessions,
            "total_commands": total_commands,
            "running_commands": total_running,
            "stopped_commands": total_commands - total_running,
            "all_sessions_healthy": healthy_sessions == total_sessions, (duplicate-code)
src/machineconfig/profile/__init__.py:1:0: R0801: Similar lines in 2 files
==machineconfig.cluster.sessions_managers.wt_remote_manager:[46:66]
==machineconfig.cluster.sessions_managers.zellij_remote_manager:[51:71]
            if scheduler.cycle % 2 == 0:
                statuses = []
                for _idx, an_m in enumerate(self.managers):
                    a_status = an_m.check_all_commands_status()
                    statuses.append(a_status)
                keys = []
                for item in statuses:
                    keys.extend(item.keys())
                values = []
                for item in statuses:
                    values.extend(item.values())
                # Create list of dictionaries instead of DataFrame
                status_data = []
                for i, key in enumerate(keys):
                    if i < len(values):
                        status_data.append({"tabName": key, "status": values[i]})

                # Check if all stopped
                running_count = sum(1 for item in status_data if item.get("status", {}).get("running", False))
                if running_count == 0:  # they all stopped (duplicate-code)
src/machineconfig/profile/__init__.py:1:0: R0801: Similar lines in 2 files
==machineconfig.cluster.sessions_managers.wt_local_manager:[199:216]
==machineconfig.cluster.sessions_managers.zellij_local_manager:[237:254]
        print("=" * 80)

        # Global summary
        print("ðŸŒ GLOBAL SUMMARY:")
        print(f"   Total sessions: {global_summary['total_sessions']}")
        print(f"   Healthy sessions: {global_summary['healthy_sessions']}")
        print(f"   Total commands: {global_summary['total_commands']}")
        print(f"   Running commands: {global_summary['running_commands']}")
        print(f"   All healthy: {'âœ…' if global_summary['all_sessions_healthy'] else 'âŒ'}")
        print()

        # Per-session details
        for session_name, status in all_status.items():
            session_status = status["session_status"]
            commands_status = status["commands_status"]
            summary = status["summary"]
 (duplicate-code)
src/machineconfig/profile/__init__.py:1:0: R0801: Similar lines in 2 files
==machineconfig.cluster.sessions_managers.wt_remote:[152:171]
==machineconfig.cluster.sessions_managers.zellij_remote:[146:165]
            data = json.load(f)

        # Validate that it's the correct class
        if data.get('class_name') != cls.__name__:
            logger.warning(f"Class name mismatch: expected {cls.__name__}, got {data.get('class_name')}")

        # Create new instance
        # Extract session name prefix by removing the suffix
        session_name = data['session_name']
        if '_' in session_name:
            session_name_prefix = '_'.join(session_name.split('_')[:-1])
        else:
            session_name_prefix = session_name

        instance = cls(remote_name=data['remote_name'], session_name_prefix=session_name_prefix)

        # Restore state
        instance.session_name = data['session_name']
        instance.tab_config = data['tab_config'] (duplicate-code)
src/machineconfig/profile/__init__.py:1:0: R0801: Similar lines in 2 files
==machineconfig.cluster.sessions_managers.wt_local_manager:[324:337]
==machineconfig.cluster.sessions_managers.zellij_local_manager:[354:367]
        }
        metadata_file = session_dir / "metadata.json"
        text = json.dumps(metadata, indent=2, ensure_ascii=False)
        metadata_file.write_text(text, encoding="utf-8")

        # Save each manager's state
        managers_dir = session_dir / "managers"
        managers_dir.mkdir(exist_ok=True)

        for i, manager in enumerate(self.managers):
            manager_data = {
                "session_name": manager.session_name,
                "tab_config": manager.tab_config, (duplicate-code)
src/machineconfig/profile/__init__.py:1:0: R0801: Similar lines in 2 files
==machineconfig.cluster.sessions_managers.wt_local_manager:[396:417]
==machineconfig.cluster.sessions_managers.wt_remote_manager:[154:173]
        return instance

    @staticmethod
    def list_saved_sessions() -> list[str]:
        if not TMP_SERIALIZATION_DIR.exists():
            return []

        sessions = []
        for item in TMP_SERIALIZATION_DIR.iterdir():
            if item.is_dir() and (item / "metadata.json").exists():
                sessions.append(item.name)

        return sorted(sessions)

    @staticmethod
    def delete_session(session_id: str) -> bool:
        session_dir = TMP_SERIALIZATION_DIR / session_id

        if not session_dir.exists(): (duplicate-code)
src/machineconfig/profile/__init__.py:1:0: R0801: Similar lines in 2 files
==machineconfig.cluster.sessions_managers.wt_remote_manager:[172:187]
==machineconfig.cluster.sessions_managers.zellij_remote_manager:[176:188]
        if not session_dir.exists():
            logging.warning(f"Session directory not found: {session_dir}")
            return False

        try:
            import shutil
            shutil.rmtree(session_dir)
            logging.info(f"âœ… Deleted session: {session_id}")
            return True
        except Exception as e:
            logging.error(f"Failed to delete session {session_id}: {e}")
            return False (duplicate-code)
src/machineconfig/profile/__init__.py:1:0: R0801: Similar lines in 2 files
==machineconfig.cluster.sessions_managers.wt_local_manager:[233:243]
==machineconfig.cluster.sessions_managers.wt_remote_manager:[333:343]
            print(f"   Commands ({summary['running_commands']}/{summary['total_commands']} running):")
            for tab_name, cmd_status in commands_status.items():
                status_icon = "âœ…" if cmd_status.get("running", False) else "âŒ"
                cmd_text = cmd_status.get("command", "Unknown")[:50]
                if len(cmd_status.get("command", "")) > 50:
                    cmd_text += "..."
                print(f"     {status_icon} {tab_name}: {cmd_text}")

                if cmd_status.get("processes"):
                    for proc in cmd_status["processes"][:2]:  # Show first 2 processes (duplicate-code)
src/machineconfig/profile/__init__.py:1:0: R0801: Similar lines in 2 files
==machineconfig.cluster.sessions_managers.wt_remote_manager:[103:116]
==machineconfig.cluster.sessions_managers.zellij_remote_manager:[107:120]
        }
        metadata_file = session_dir / "metadata.json"
        text = json.dumps(metadata, indent=2, ensure_ascii=False)
        metadata_file.write_text(text, encoding="utf-8")

        # Save each ZellijRemoteLayoutGenerator
        managers_dir = session_dir / "managers"
        managers_dir.mkdir(exist_ok=True)

        for i, manager in enumerate(self.managers):
            manager_file = managers_dir / f"manager_{i}_{manager.remote_name}.json"
            manager.to_json(str(manager_file))
 (duplicate-code)
src/machineconfig/profile/__init__.py:1:0: R0801: Similar lines in 2 files
==machineconfig.cluster.templates.utils:[46:57]
==machineconfig.utils.path_reduced:[468:477]
        if zip:
            localpath = localpath.zip(inplace=False)
            to_del.append(localpath)
        if encrypt:
            localpath = localpath.encrypt(key=key, pwd=pwd, inplace=False)
            to_del.append(localpath)
        if remotepath is None:
            rp = localpath.get_remote_path(root=root, os_specific=os_specific, rel2home=rel2home, strict=strict, obfuscate=obfuscate)  # if rel2home else (P(root) / localpath if root is not None else localpath)
        else: rp = P(remotepath) (duplicate-code)
src/machineconfig/profile/__init__.py:1:0: R0801: Similar lines in 2 files
==machineconfig.cluster.sessions_managers.wt_local:[28:45]
==machineconfig.cluster.sessions_managers.zellij_local:[36:51]
        return ''.join(random.choices(string.ascii_lowercase + string.digits, k=length))

    @staticmethod
    def _parse_command(command: str) -> tuple[str, List[str]]:
        try:
            parts = shlex.split(command)
            if not parts: raise ValueError("Empty command provided")
            return parts[0], parts[1:] if len(parts) > 1 else []
        except ValueError as e:
            logger.error(f"Error parsing command '{command}': {e}")
            parts = command.split()
            return parts[0] if parts else "", parts[1:] if len(parts) > 1 else []

    @staticmethod
    def _escape_for_wt(text: str) -> str:
        """Escape text for use in Windows Terminal commands."""
        # Windows Terminal uses PowerShell-style escaping (duplicate-code)
src/machineconfig/profile/__init__.py:1:0: R0801: Similar lines in 2 files
==machineconfig.cluster.sessions_managers.wt_local_manager:[374:385]
==machineconfig.cluster.sessions_managers.zellij_local_manager:[404:415]
        managers_dir = session_dir / "managers"
        if managers_dir.exists():
            instance.managers = []
            manager_files = sorted(managers_dir.glob("manager_*.json"))

            for manager_file in manager_files:
                try:
                    with open(manager_file, 'r', encoding='utf-8') as f:
                        manager_data = json.load(f)

                    # Recreate the manager (duplicate-code)
src/machineconfig/profile/__init__.py:1:0: R0801: Similar lines in 2 files
==machineconfig.cluster.sessions_managers.wt_local_manager:[108:128]
==machineconfig.cluster.sessions_managers.zellij_local_manager:[144:164]
                    "success": False,
                    "error": str(e)
                }

        return results

    def attach_to_session(self, session_name: Optional[str] = None) -> str:
        """
        Generate command to attach to a specific session or list attachment commands for all.

        Args:
            session_name: Specific session to attach to, or None for all sessions

        Returns:
            Command string to attach to session(s)
        """
        if session_name:
            # Find the specific session
            for manager in self.managers:
                if manager.session_name == session_name: (duplicate-code)
src/machineconfig/profile/__init__.py:1:0: R0801: Similar lines in 2 files
==machineconfig.cluster.sessions_managers.zellij_local_manager:[354:364]
==machineconfig.cluster.sessions_managers.zellij_remote_manager:[107:117]
        }
        metadata_file = session_dir / "metadata.json"
        text = json.dumps(metadata, indent=2, ensure_ascii=False)
        metadata_file.write_text(text, encoding="utf-8")

        # Save each manager's state
        managers_dir = session_dir / "managers"
        managers_dir.mkdir(exist_ok=True)

        for i, manager in enumerate(self.managers): (duplicate-code)
src/machineconfig/profile/__init__.py:1:0: R0801: Similar lines in 2 files
==machineconfig.cluster.sessions_managers.wt_local_manager:[324:334]
==machineconfig.cluster.sessions_managers.wt_remote_manager:[103:113]
        }
        metadata_file = session_dir / "metadata.json"
        text = json.dumps(metadata, indent=2, ensure_ascii=False)
        metadata_file.write_text(text, encoding="utf-8")

        # Save each manager's state
        managers_dir = session_dir / "managers"
        managers_dir.mkdir(exist_ok=True)

        for i, manager in enumerate(self.managers): (duplicate-code)
src/machineconfig/profile/__init__.py:1:0: R0801: Similar lines in 2 files
==machineconfig.cluster.sessions_managers.wt_local_manager:[567:577]
==machineconfig.cluster.sessions_managers.zellij_local_manager:[542:552]
        print(f"âœ… Loaded session with {len(loaded_manager.managers)} sessions")

        # Show how to start monitoring (commented out to prevent infinite loop in demo)
        print("\nâ° To start monitoring, run:")
        print("manager.run_monitoring_routine(wait_ms=30000)  # 30 seconds")

    except Exception as e:
        print(f"âŒ Error: {e}")
        import traceback
        traceback.print_exc() (duplicate-code)
src/machineconfig/profile/__init__.py:1:0: R0801: Similar lines in 2 files
==machineconfig.cluster.sessions_managers.wt_local_manager:[534:548]
==machineconfig.cluster.sessions_managers.zellij_local_manager:[518:532]
        print(f"âœ… Local manager created with {len(manager.managers)} sessions")

        # Show session names
        print(f"ðŸ“‹ Sessions: {manager.get_all_session_names()}")

        # Print attachment commands (without actually starting)
        print("\nðŸ“Ž Attachment commands:")
        print(manager.attach_to_session())

        # Show current status
        print("\nðŸ” Current status:")
        manager.print_status_report()

        # Show Windows Terminal overview (duplicate-code)
src/machineconfig/profile/__init__.py:1:0: R0801: Similar lines in 2 files
==machineconfig.cluster.sessions_managers.wt_remote_manager:[80:92]
==machineconfig.cluster.sessions_managers.zellij_local_manager:[330:343]
        sched = Scheduler(routine=routine, wait_ms=wait_ms)
        sched.run()

    def save(self, session_id: Optional[str] = None) -> str:
        if session_id is None:
            session_id = str(uuid.uuid4())[:8]

        # Create session directory
        session_dir = TMP_SERIALIZATION_DIR / session_id
        session_dir.mkdir(parents=True, exist_ok=True)

        # Save the machine2wt_tabs configuration (duplicate-code)
src/machineconfig/profile/__init__.py:1:0: R0801: Similar lines in 2 files
==machineconfig.cluster.sessions_managers.wt_local_manager:[199:207]
==machineconfig.cluster.sessions_managers.wt_remote_manager:[290:298]
        print("=" * 80)

        # Global summary
        print("ðŸŒ GLOBAL SUMMARY:")
        print(f"   Total sessions: {global_summary['total_sessions']}")
        print(f"   Healthy sessions: {global_summary['healthy_sessions']}")
        print(f"   Total commands: {global_summary['total_commands']}")
        print(f"   Running commands: {global_summary['running_commands']}") (duplicate-code)
src/machineconfig/profile/__init__.py:1:0: R0801: Similar lines in 2 files
==machineconfig.cluster.sessions_managers.wt_remote_manager:[141:149]
==machineconfig.cluster.sessions_managers.zellij_remote_manager:[145:153]
        managers_dir = session_dir / "managers"
        if managers_dir.exists():
            # Clear the auto-created managers and load the saved ones
            instance.managers = []
            # Get all manager files and sort them
            manager_files = sorted(managers_dir.glob("manager_*.json"))
            for manager_file in manager_files:
                try: (duplicate-code)
src/machineconfig/profile/__init__.py:1:0: R0801: Similar lines in 2 files
==machineconfig.cluster.sessions_managers.wt_local:[406:412]
==machineconfig.cluster.sessions_managers.wt_local_manager:[224:230]
                print("âœ… Windows Terminal is running")
                print(f"   Session windows: {len(session_windows)}")
                print(f"   Total WT windows: {len(all_windows)}")
            else:
                print("âš ï¸  Windows Terminal is running but no session windows found")
        else: (duplicate-code)
src/machineconfig/profile/__init__.py:1:0: R0801: Similar lines in 2 files
==machineconfig.cluster.sessions_managers.wt_local_manager:[511:517]
==machineconfig.cluster.sessions_managers.zellij_local_manager:[495:501]
if __name__ == "__main__":
    # Example usage
    sample_sessions = {
        "development": {
            "ðŸš€Frontend": ("~/code/myapp/frontend", "npm run dev"),
            "âš™ï¸Backend": ("~/code/myapp/backend", "python manage.py runserver"), (duplicate-code)
src/machineconfig/profile/__init__.py:1:0: R0801: Similar lines in 2 files
==machineconfig.cluster.sessions_managers.wt_local_manager:[315:322]
==machineconfig.cluster.sessions_managers.zellij_local_manager:[345:352]
        config_file.write_text(text, encoding="utf-8")

        # Save metadata
        metadata = {
            "session_name_prefix": self.session_name_prefix,
            "created_at": str(datetime.now()),
            "num_managers": len(self.managers), (duplicate-code)
src/machineconfig/profile/__init__.py:1:0: R0801: Similar lines in 2 files
==machineconfig.cluster.sessions_managers.wt_local_manager:[129:135]
==machineconfig.cluster.sessions_managers.zellij_local_manager:[165:171]
            raise ValueError(f"Session '{session_name}' not found")
        else:
            # Return commands for all sessions
            commands = []
            for manager in self.managers:
                commands.append(f"# Attach to session '{manager.session_name}':") (duplicate-code)
src/machineconfig/profile/__init__.py:1:0: R0801: Similar lines in 2 files
==machineconfig.cluster.sessions_managers.wt_local_manager:[158:163]
==machineconfig.cluster.sessions_managers.wt_remote_manager:[234:239]
                "commands_status": commands_status,
                "summary": {
                    "total_commands": total_count,
                    "running_commands": running_count,
                    "stopped_commands": total_count - running_count, (duplicate-code)
src/machineconfig/profile/__init__.py:1:0: R0801: Similar lines in 2 files
==machineconfig.cluster.sessions_managers.wt_remote_manager:[94:101]
==machineconfig.cluster.sessions_managers.zellij_remote_manager:[99:106]
        config_file.write_text(text, encoding="utf-8")

        # Save session metadata
        metadata = {
            "session_name_prefix": self.session_name_prefix,
            "created_at": str(datetime.now()),
            "num_managers": len(self.managers), (duplicate-code)
src/machineconfig/profile/__init__.py:1:0: R0801: Similar lines in 2 files
==machineconfig.cluster.sessions_managers.wt_remote_manager:[69:74]
==machineconfig.cluster.sessions_managers.zellij_remote_manager:[74:79]
                for item in status_data:
                    print(f"Tab: {item['tabName']}, Status: {item['status']}")
            else:
                statuses = []
                for _idx, an_m in enumerate(self.managers): (duplicate-code)
src/machineconfig/profile/__init__.py:1:0: R0801: Similar lines in 2 files
==machineconfig.profile.create:[17:24]
==machineconfig.profile.create_hardlinks:[17:25]
system = platform.system()  # Linux or Windows
ERROR_LIST: list[Any] = []  # append to this after every exception captured.
CONFIG_ROOT = LIBRARY_ROOT.parent.parent.joinpath("settings")
OTHER_SYSTEM = "windows" if system == "Linux" else "linux"
SYSTEM = system.lower()


def main_symlinks(choice: Optional[str] = None): (duplicate-code)
src/machineconfig/profile/__init__.py:1:0: R0801: Similar lines in 2 files
==machineconfig.cluster.sessions_managers.wt_remote:[39:44]
==machineconfig.cluster.sessions_managers.zellij_remote:[49:54]
        self.tab_config = tab_config.copy()
        if output_dir:
            output_path = Path(output_dir)
        else:
            output_path = TMP_LAYOUT_DIR (duplicate-code)
