
[mgr]
show_hidden = true
ratio = [1, 3, 5]

[opener]
system_default = [
  { run = "cmd /C start \"\" \"%1\"", desc = "System Default (Windows)", for = "windows", block = false, orphan = false }
]
# Edit files in your editor (replace "code" with your editor if you like)
edit = [
  { run = "code \"%*\"", desc = "VS Code (Editor)", block = true, orphan = false, for = "windows" }
]
helix = [
  { run = "hx \"%*\"", desc = "Helix (Editor)", block = true, orphan = false, for = "windows" }
]

# Play media files
play = [
  { run = "start \"\" \"%*\"", desc = "System Default (Media)", block = false, orphan = false, for = "windows" }
]

# Open files/folders with system default program/explorer
open = [
  { run = "start \"\" \"%1\"", desc = "System Default (Open)", block = false, orphan = false, for = "windows" }
]


[open]
prepend_rules = [
  # Text/Code files - open with VSCode by default, Helix as alternative
  { name = "*.py", use = ["edit", "helix"] },
  { name = "*.{rs,toml,yaml,yml,json,js,ts,tsx,jsx,html,css,md,txt,sh,ps1,bat,cmd}", use = ["edit", "helix"] },
  { mime = "text/*", use = ["edit", "helix"] },
]
rules = [
  { mime = "video/*", use = "play" },
  { mime = "application/pdf", use = ["system_default"] },
  { mime = "image/*", use = ["system_default"] },
  { name = "*", use = ["system_default"] }
]



[plugin]
# dir = "~/AppData/Roaming/yazi/config/plugins"

prepend_previewers = [
  # Markdown previewer
  { name = "*.md", run = 'piper -- CLICOLOR_FORCE=1 glow -w=$w -s=dark "$1"' },
  # JSON previewer - explicitly use built-in json previewer
  { mime = "application/json", run = "json" },
  { name = "*.json", run = "json" },
  # Archive previewer
  { mime = "application/*zip",            run = "ouch" },
  { mime = "application/x-tar",           run = "ouch" },
  { mime = "application/x-bzip2",         run = "ouch" },
  { mime = "application/x-7z-compressed", run = "ouch" },
  { mime = "application/x-rar",           run = "ouch" },
  { mime = "application/vnd.rar",         run = "ouch" },
  { mime = "application/x-xz",            run = "ouch" },
  { mime = "application/xz",              run = "ouch" },
  { mime = "application/x-zstd",          run = "ouch" },
  { mime = "application/zstd",            run = "ouch" },
  { mime = "application/java-archive",    run = "ouch" },

  { name = "*.tsv", run = "duckdb" },  
  { name = "*.parquet", run = "duckdb" },  
  { name = "*.xlsx", run = "duckdb" },  
  { name = "*.db", run = "duckdb" },
  { name = "*.duckdb", run = "duckdb" }
]

prepend_preloaders = [  
  # { name = "*.csv", run = "duckdb", multi = false },  
  { name = "*.tsv", run = "duckdb", multi = false },  
  # { name = "*.json", run = "duckdb", multi = false },  
  { name = "*.parquet", run = "duckdb", multi = false },
  # { name = "*.txt", run = "duckdb", multi = false },  
  { name = "*.xlsx", run = "duckdb", multi = false }
]

[[plugin.load]]
name = "toggle-pane"
path = "toggle-pane.yazi"


[preview]
# Change them to your desired values
max_width  = 1000
max_height = 1000


