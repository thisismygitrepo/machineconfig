
[mgr]
show_hidden = true
ratio = [1, 3, 5]

[opener]
system_default = [
  { run = "xdg-open \"$1\"", desc = "System Default", block = false, orphan = false, for = "unix" }
]
edit = [
  { run = 'hx "$@"', desc = "Helix (Editor)", block = true, orphan = false, for = "unix" }
]
vscode = [
  { run = "code \"$@\"", desc = "VSCode (Editor)", block = true, orphan = false, for = "unix" }
]
play = [
  { run = "mpv \"$@\"", desc = "MPV (Media)", block = false, orphan = false, for = "unix" }
]
open = [
  { run = "xdg-open \"$1\"", desc = "System Default Open", block = false, orphan = false, for = "unix" }
]

[open]
prepend_rules = [
  # Text/Code files - open with Helix by default
  { name = "*.py", use = ["edit", "hx"] },
  { name = "*.{rs,toml,yaml,yml,json,js,ts,tsx,jsx,html,css,md,txt,sh,bash,zsh,ps1}", use = ["edit", "hx"] },
  { mime = "text/*", use = ["edit", "hx"] },
]
rules = [
  { mime = "application/pdf", use = ["system_default"] },
  { mime = "image/*",     use = ["system_default"] },
  { mime = "{audio,video}/*", use = ["system_default"] },
  { name = "*",           use = ["system_default"] }
]


[plugin]
dir = "~/.config/yazi/plugins"



prepend_previewers = [
  # Markdown previewer
  { url = "*.md", run = 'piper -- CLICOLOR_FORCE=1 glow -w=$w -s=dark "$1"' },
  # JSON previewer - explicitly use built-in json previewer
  { mime = "application/json", run = "json" },
  { url = "*.json", run = "json" },
  # Archive previewer
  { mime = "application/*zip",            run = "ouch" },
  { mime = "application/x-tar",           run = "ouch" },
  { mime = "application/x-bzip2",         run = "ouch" },
  { mime = "application/x-7z-compressed", run = "ouch" },
  { mime = "application/x-rar",           run = "ouch" },
  { mime = "application/vnd.rar",         run = "ouch" },
  { mime = "application/x-xz",            run = "ouch" },
  { mime = "application/xz",              run = "ouch" },
  { mime = "application/x-zstd",          run = "ouch" },
  { mime = "application/zstd",            run = "ouch" },
  { mime = "application/java-archive",    run = "ouch" },

  { url = "*.tsv", run = "duckdb" },  
  { url = "*.parquet", run = "duckdb" },  
  { url = "*.xlsx", run = "duckdb" },  
  { url = "*.db", run = "duckdb" },
  { url = "*.duckdb", run = "duckdb" }
]

prepend_preloaders = [  
  # { url = "*.csv", run = "duckdb", multi = false },  
  { url = "*.tsv", run = "duckdb", multi = false },  
  # { url = "*.json", run = "duckdb", multi = false },  
  { url = "*.parquet", run = "duckdb", multi = false },
  # { url = "*.txt", run = "duckdb", multi = false },  
  { url = "*.xlsx", run = "duckdb", multi = false }
]

# prepend_preloaders = [   { url = "*.csv", run = "duckdb", multi = false },  


[[plugin.load]]
name = "toggle-pane"
path = "toggle-pane.yazi"


[preview]
# Change them to your desired values
max_width  = 1000
max_height = 1000

